<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Deepanraj A ‚Äî Data Analyst | BI Developer | ML</title>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7W7ZPK3K34"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-7W7ZPK3K34');
</script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#f5f5f5;
  --bg-card:#ffffff;
  --bg-soft:#f3f4f6;
  --border:#e5e7eb;
  --text:#111827;
  --text-soft:#4b5563;
  --primary:#2563eb;
  --primary-soft:#dbeafe;
  --sidebar-bg:#0f172a;
  --sidebar-text:#e5e7eb;
}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
  overflow-x:hidden;
}

/* Dark mode */
body.dark-mode{
  --bg:#020617;
  --bg-card:#020617;
  --bg-soft:#0f172a;
  --border:#1f2937;
  --text:#e5e7eb;
  --text-soft:#9ca3af;
  --primary:#60a5fa;
  --primary-soft:#1d4ed8;
}

/* Layout */
.app{
  display:flex;
  min-height:100vh;
}

/* Sidebar */
.sidebar{
  width:260px;
  background:var(--sidebar-bg);
  color:var(--sidebar-text);
  padding:20px 18px;
  display:flex;
  flex-direction:column;
  position:fixed;
  top:0;bottom:0;left:0;
}
.sidebar-header{
  display:flex;align-items:center;gap:12px;margin-bottom:24px;
}
.sidebar-photo{
  width:56px;height:56px;border-radius:50%;
  border:3px solid var(--primary);
  box-shadow:0 0 18px rgba(37,99,235,0.7);
  overflow:hidden;flex-shrink:0;
}
.sidebar-photo img{
  width:100%;height:100%;object-fit:cover;
}
.sidebar-name{
  font-size:16px;font-weight:700;
}
.sidebar-role{
  font-size:12px;color:#9ca3af;
}
.sidebar-nav{
  margin-top:10px;
}
.sidebar-nav button{
  width:100%;text-align:left;border:none;outline:none;
  background:transparent;color:#cbd5f5;
  padding:10px 10px;border-radius:8px;margin-bottom:5px;
  font-size:14px;display:flex;align-items:center;gap:10px;
  cursor:pointer;transition:.2s;
}
.sidebar-nav button span.icon{
  width:22px;text-align:center;
}
.sidebar-nav button.active,
.sidebar-nav button:hover{
  background:rgba(37,99,235,0.18);
  color:#fff;
}
.sidebar-footer{
  margin-top:auto;
  font-size:12px;
  color:#6b7280;
}

/* Dark toggle */
#darkToggle{
  position:fixed;bottom:20px;right:20px;
  padding:12px 14px;border-radius:50%;
  background:var(--primary);color:#fff;font-weight:700;
  cursor:pointer;z-index:9999;font-size:18px;
  box-shadow:0 4px 12px rgba(0,0,0,.25);
}

/* Main */
.main{
  margin-left:260px;
  width:calc(100% - 260px);
  padding:20px;
}

/* Loader */
#loaderOverlay{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:#ffffff;display:flex;align-items:center;
  justify-content:center;z-index:999999;
}
.loader-ring{
  border:6px solid #e5e7eb;border-top:6px solid #2563eb;
  width:60px;height:60px;border-radius:50%;animation:spin 1s linear infinite;
}
@keyframes spin{100%{transform:rotate(360deg)}}

/* Sections */
.page-section{
  display:none;
  animation:fadeIn .4s ease;
}
.page-section.active{
  display:block;
}
@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}

/* HERO (home) */
.hero{
  background:linear-gradient(135deg,#ffffff 0%,#f9f9f9 100%);
  padding:30px 24px;
  border-radius:16px;
  border:1px solid var(--border);
  box-shadow:0 2px 8px rgba(0,0,0,.05);
  margin-bottom:20px;
}
body.dark-mode .hero{
  background:linear-gradient(135deg,#020617 0%,#0b1120 100%);
}
.profile-wrapper{
  display:flex;align-items:center;gap:30px;
}
.profile-photo-main{
  width:140px;height:140px;border-radius:50%;
  border:4px solid var(--primary);
  box-shadow:0 0 24px rgba(37,99,235,0.6);
  overflow:hidden;flex-shrink:0;
}
.profile-photo-main img{
  width:100%;height:100%;object-fit:cover;
}
.profile-info h1{
  font-size:32px;font-weight:800;margin-bottom:6px;color:var(--text);
}
.profile-subtitle{
  font-size:14px;color:var(--text-soft);margin-bottom:8px;
}
.profile-tags span{
  display:inline-block;font-size:11px;
  background:var(--primary-soft);color:var(--primary);
  padding:4px 9px;border-radius:999px;margin-right:6px;margin-bottom:4px;
}
.profile-social{
  display:flex;gap:10px;margin:10px 0 16px;
}
.social-icon{
  width:34px;height:34px;border-radius:50%;background:#e5e7eb;
  display:flex;align-items:center;justify-content:center;
  color:var(--primary);font-size:18px;text-decoration:none;transition:.2s;
}
.social-icon:hover{
  background:var(--primary);color:#fff;transform:translateY(-2px);
}
.btn{
  display:inline-block;padding:10px 22px;border-radius:999px;
  font-size:14px;font-weight:600;border:none;cursor:pointer;
  transition:.2s;text-decoration:none;
}
.btn-primary{
  background:var(--primary);color:#fff;margin-right:8px;
}
.btn-primary:hover{
  box-shadow:0 4px 12px rgba(37,99,235,0.4);
  transform:translateY(-1px);
}
.btn-outline{
  background:transparent;border:1px solid var(--primary);
  color:var(--primary);
}
.btn-outline:hover{
  background:var(--primary);color:#fff;
}

/* Generic section card */
.section{
  background:var(--bg-card);
  margin-bottom:20px;padding:24px 20px;
  border-radius:14px;border:1px solid var(--border);
}
.section h2{
  font-size:20px;margin-bottom:16px;
  display:flex;align-items:center;gap:10px;color:var(--text);
}
.section h2::before{
  content:"";width:4px;height:22px;background:var(--primary);border-radius:2px;
}

/* Overview cards */
.overview-grid{
  display:flex;flex-wrap:wrap;gap:16px;justify-content:flex-start;
}
.overview-card{
  width:180px;background:var(--bg-soft);padding:22px;border-radius:10px;
  border-left:4px solid var(--primary);text-align:center;
}
.overview-card .num{
  font-size:32px;font-weight:700;color:var(--primary);margin-bottom:4px;
}
.overview-card .label{
  font-size:13px;color:var(--text-soft);
}

/* Projects grid */
.projects-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:18px;
}
.project-card{
  background:var(--bg-soft);padding:16px;border-radius:10px;
  border-top:4px solid var(--primary);
}
.project-card img{
  width:100%;border-radius:10px;margin-bottom:8px;
}
.project-card h3{
  font-size:16px;color:var(--text);margin-bottom:4px;
}
.project-card p{
  font-size:13px;color:var(--text-soft);margin-bottom:8px;
}
.tag-pill{
  display:inline-block;background:var(--primary-soft);
  color:var(--primary);padding:4px 10px;
  border-radius:999px;font-size:11px;margin-right:4px;margin-bottom:4px;
}

/* Experience / Education */
.job{
  margin-bottom:20px;
}
.job h3{
  font-size:16px;color:var(--text);
}
.job .company{
  color:var(--primary);font-weight:600;font-size:13px;
}
.job .dates{
  color:var(--text-soft);font-size:12px;margin-bottom:6px;
}
.job p{
  font-size:13px;color:var(--text-soft);
}

/* Certifications */
.cert-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:16px;
}
.cert-card{
  background:var(--bg-soft);padding:16px;border-radius:10px;
  border-left:4px solid var(--primary);
}
.cert-card img{
  width:110px;margin-bottom:8px;
}

/* Skills */
.skills-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));
  gap:12px;
}
.skill-pill{
  text-align:center;background:var(--bg-soft);
  padding:10px;border-radius:8px;
  border-left:4px solid var(--primary);font-size:13px;
}

/* Contact */
.contact-form{
  max-width:480px;
}
.contact-form input,.contact-form textarea{
  width:100%;padding:10px;border-radius:8px;
  border:1px solid var(--border);font-size:14px;
  margin-bottom:10px;background:var(--bg-card);color:var(--text);
}
.contact-form textarea{min-height:120px;resize:vertical;}
.contact-info p{
  font-size:14px;
}

/* Data Lab */
.grid-2{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:16px;
}
.panel{
  background:var(--bg-soft);border-radius:10px;
  border:1px solid var(--border);padding:14px;
}
.panel-header{
  font-size:13px;color:var(--text-soft);
  margin-bottom:6px;
}
.label-small{
  font-size:12px;font-weight:600;margin-bottom:4px;color:var(--text-soft);
}
.panel textarea,.panel input{
  width:100%;padding:8px;border-radius:8px;
  border:1px solid var(--border);font-size:12px;
  background:var(--bg-card);color:var(--text);
}
.panel textarea{min-height:80px;resize:vertical;}
.panel button{
  margin-top:6px;
}

/* SQL table */
table{
  width:100%;border-collapse:collapse;font-size:12px;margin-top:6px;
}
th,td{
  border:1px solid var(--border);padding:4px 6px;text-align:left;
}
th{background:var(--bg-soft);}

/* Chat / AI assistant */
.chat-box{
  max-height:260px;overflow-y:auto;
  background:var(--bg-soft);border-radius:10px;
  border:1px solid var(--border);padding:8px;font-size:12px;
}
.chat-msg{margin-bottom:6px;}
.chat-me{text-align:right;}
.chat-me span{
  display:inline-block;background:var(--primary);color:#fff;
  padding:5px 9px;border-radius:999px;
}
.chat-bot span{
  display:inline-block;background:var(--bg-card);color:var(--text);
  padding:5px 9px;border-radius:999px;
}

/* Gallery modal */
#galleryModal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,.8);display:none;
  align-items:center;justify-content:center;z-index:9998;
}
#galleryModal img{
  width:80%;max-width:1000px;border-radius:12px;
  box-shadow:0 0 20px rgba(255,255,255,.3);
}

/* Floating chat button (global) */
#chatBtn{
  position:fixed;right:20px;bottom:80px;background:var(--primary);
  color:#fff;border-radius:50%;width:48px;height:48px;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;font-size:22px;z-index:9999;
  box-shadow:0 4px 14px rgba(0,0,0,.3);
}
#chatWindow{
  position:fixed;right:20px;bottom:140px;width:330px;height:420px;
  background:var(--bg-card);border-radius:15px;
  box-shadow:0 0 20px rgba(0,0,0,.4);
  overflow:hidden;display:none;flex-direction:column;z-index:9999;
}

/* Responsive */
@media(max-width:900px){
  .sidebar{
    position:fixed;left:0;top:0;bottom:auto;
    width:100%;height:auto;flex-direction:row;
    align-items:center;gap:10px;
  }
  .sidebar-nav{
    display:flex;flex-wrap:wrap;
  }
  .sidebar-footer{display:none;}
  .main{
    margin-left:0;margin-top:120px;width:100%;
  }
}
@media(max-width:600px){
  .profile-wrapper{flex-direction:column;text-align:center;}
  .profile-info{text-align:center;}
}
</style>
</head>

<body>

<!-- LOADING OVERLAY -->
<div id="loaderOverlay">
  <div class="loader-ring"></div>
</div>

<!-- DARK MODE TOGGLE -->
<div id="darkToggle">üåô</div>

<!-- GALLERY MODAL -->
<div id="galleryModal" onclick="this.style.display='none'">
  <img id="galleryImage" alt="Preview">
</div>

<!-- APP LAYOUT -->
<div class="app">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div>
      <div class="sidebar-header">
        <div class="sidebar-photo">
          <img src="images/Photo.jpeg" alt="Deepanraj A">
        </div>
        <div>
          <div class="sidebar-name">Deepanraj A</div>
          <div class="sidebar-role">Data Analyst ‚Ä¢ BI ‚Ä¢ ML</div>
        </div>
      </div>

      <div class="sidebar-nav">
        <button class="nav-btn active" data-section="home">
          <span class="icon">üè†</span> <span>Home / Portfolio</span>
        </button>
        <button class="nav-btn" data-section="datalab">
          <span class="icon">üß™</span> <span>Data Lab</span>
        </button>
        <button class="nav-btn" data-section="resume">
          <span class="icon">üìù</span> <span>Resume Generator</span>
        </button>
        <button class="nav-btn" data-section="assistant">
          <span class="icon">ü§ñ</span> <span>AI Assistant</span>
        </button>
        <button class="nav-btn" data-section="contact">
          <span class="icon">üì¨</span> <span>Contact</span>
        </button>
      </div>
    </div>

    <div class="sidebar-footer">
      ¬© 2025 ‚Ä¢ Deepanraj A
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main">

    <!-- HOME / PORTFOLIO SECTION -->
    <section id="home" class="page-section active">

      <div class="hero">
        <div class="profile-wrapper">
          <div class="profile-photo-main">
            <img src="images/Photo.jpeg" alt="Deepanraj A">
          </div>
          <div class="profile-info">
            <h1>Deepanraj A</h1>
            <div class="profile-subtitle">
              üìä Data Analyst ‚Ä¢ BI Developer ‚Ä¢ ML Enthusiast ‚Äî based in Karur, Tamil Nadu, India.
            </div>
            <div class="profile-tags">
              <span>Python</span><span>SQL</span><span>Power BI</span>
              <span>Tableau</span><span>Machine Learning</span>
            </div>
            <div class="profile-social">
              <a href="https://linkedin.com/in/deepanraj-data-analyst" class="social-icon" target="_blank">in</a>
              <a href="https://github.com/deeepanbe" class="social-icon" target="_blank">‚öô</a>
            </div>
            <button class="btn btn-primary" onclick="scrollToContact()">CONTACT ME</button>
            <a href="resume/Deepanraj_A_Data_Analyst.pdf" class="btn btn-outline" target="_blank">Download Resume</a>
          </div>
        </div>
      </div>

      <!-- SUMMARY -->
      <div class="section">
        <h2>SUMMARY</h2>
        <p>üìä Aspiring Data Analyst with a passion for transforming raw data into actionable insights.</p>
        <p>üîç Skilled in Python, SQL, Excel, Power BI, and Machine Learning.</p>
        <p>üíº Experienced in HR Analytics, Marketing Analytics, Crime Analysis & Business Intelligence.</p>
        <p>üìç Based in Karur, Tamil Nadu, India.</p>
        <p>üå± Currently exploring advanced Machine Learning & AI techniques.</p>
      </div>

      <!-- OVERVIEW -->
      <div class="section">
        <h2>OVERVIEW</h2>
        <div class="overview-grid">
          <div class="overview-card">
            <div class="num">9</div>
            <div class="label">Years Experience</div>
          </div>
          <div class="overview-card">
            <div class="num">4</div>
            <div class="label">Years Education</div>
          </div>
          <div class="overview-card">
            <div class="num">2</div>
            <div class="label">Languages</div>
          </div>
          <div class="overview-card">
            <div class="num">6</div>
            <div class="label">Certificates</div>
          </div>
        </div>
      </div>

      <!-- PROJECTS -->
      <div class="section">
        <h2>PROJECTS</h2>
        <div class="projects-grid">
          <div class="project-card">
            <img src="Thumbnail/sales_thumb.png" alt="Sales Dashboard">
            <h3>Sales Performance Dashboard</h3>
            <p>
              Interactive Power BI dashboard visualizing revenue, product performance,
              and customer segments for business leaders.
            </p>
            <span class="tag-pill">Power BI</span>
            <span class="tag-pill">SQL</span>
            <span class="tag-pill">Excel</span>
          </div>
          <div class="project-card">
            <img src="Thumbnail/churn_thumb.png" alt="Customer Churn Analysis">
            <h3>Customer Churn Analysis</h3>
            <p>
              Predictive model using Python and ML to identify at-risk customers and drive retention strategies.
            </p>
            <span class="tag-pill">Python</span>
            <span class="tag-pill">Scikit-Learn</span>
            <span class="tag-pill">Pandas</span>
          </div>
          <div class="project-card">
            <img src="Thumbnail/hr_thumb.png" alt="HR Analytics">
            <h3>HR Analytics Dashboard</h3>
            <p>
              HR dashboard for headcount, attrition, and performance trends supporting workforce planning.
            </p>
            <span class="tag-pill">Tableau</span>
            <span class="tag-pill">Excel</span>
            <span class="tag-pill">HR Analytics</span>
          </div>
        </div>
        <div style="margin-top:14px;">
          <a href="https://github.com/deeepanbe" target="_blank" style="color:var(--primary);font-weight:600;text-decoration:none;">
            View More Projects on GitHub ‚Üí
          </a>
        </div>
      </div>

      <!-- EXPERIENCE -->
      <div class="section">
        <h2>EXPERIENCE</h2>
        <div class="job">
          <h3>Product Analyst</h3>
          <div class="company">DAKSHIN HOME FASHIONS</div>
          <div class="dates">June 2020 - Present</div>
          <p>
            Leading data analysis initiatives across production and operations, automating reports,
            and building dashboards to improve efficiency and decision-making.
          </p>
        </div>
        <div class="job">
          <h3>Graduate Engineering Trainee</h3>
          <div class="company">LAKSHMI LIFE SCIENCE LIMITED</div>
          <div class="dates">April 2017 - February 2019</div>
          <p>
            Developed strong foundations in quality processes, RCA, and process improvement using data.
          </p>
        </div>
      </div>

      <!-- EDUCATION -->
      <div class="section">
        <h2>EDUCATION</h2>
        <div class="job">
          <h3>Bachelor of Engineering - Mechanical</h3>
          <div class="company">Pavai College of Technology</div>
          <div class="dates">June 2012 - April 2016</div>
          <p>
            Built strong foundations in mathematics, statistics, and problem-solving that support analytical thinking.
          </p>
        </div>
      </div>

      <!-- CERTIFICATIONS -->
      <div class="section">
        <h2>CERTIFICATIONS</h2>
        <div class="cert-grid">
          <div class="cert-card">
            <img src="certificates/google.png" alt="Google">
            <h3>Google Analytics & Docs</h3>
            <p>Google ‚Äî 2024</p>
          </div>
          <div class="cert-card">
            <img src="certificates/edureka.png" alt="Edureka">
            <h3>Business Analyst Masters</h3>
            <p>Edureka ‚Äî Completion Expected March 2025</p>
          </div>
          <div class="cert-card">
            <img src="certificates/microsoft.png" alt="Microsoft">
            <h3>Microsoft SQL Server Certification</h3>
            <p>Microsoft ‚Äî March 2025</p>
          </div>
          <div class="cert-card">
            <img src="certificates/tableau.png" alt="Tableau">
            <h3>Tableau Certification</h3>
            <p>Tableau ‚Äî Dec 2024</p>
          </div>
        </div>
      </div>

      <!-- SKILLS -->
      <div class="section">
        <h2>SKILLS</h2>
        <div class="skills-grid">
          <div class="skill-pill">Python</div>
          <div class="skill-pill">SQL</div>
          <div class="skill-pill">R</div>
          <div class="skill-pill">Power BI</div>
          <div class="skill-pill">Excel</div>
          <div class="skill-pill">Tableau</div>
          <div class="skill-pill">Pandas</div>
          <div class="skill-pill">NumPy</div>
          <div class="skill-pill">Scikit-Learn</div>
          <div class="skill-pill">Matplotlib</div>
          <div class="skill-pill">Machine Learning</div>
          <div class="skill-pill">Git</div>
          <div class="skill-pill">GitHub</div>
        </div>
      </div>

      <!-- CONTACT (also accessible via assistant nav button) -->
      <div id="contact-section" class="section">
        <h2>CONTACT</h2>
        <p style="margin-bottom:10px;color:var(--text-soft);">
          If you‚Äôd like to discuss a role, project, or collaboration, use the form below or contact me directly.
        </p>

        <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:20px;flex-wrap:wrap;">
          <form class="contact-form" action="https://formspree.io/f/mnnqanpn" method="POST">
            <input type="text" name="name" placeholder="Name *" required>
            <input type="email" name="email" placeholder="Email *" required>
            <textarea name="message" placeholder="Message *" required></textarea>
            <button type="submit" class="btn btn-primary" style="width:100%;">Send Message</button>
          </form>

          <div class="contact-info">
            <p>üìß <b>deepanraj.a@outlook.com</b></p>
            <p>üìß <b>info@deepanraj.work.gd</b></p>
            <p>üì± <b>8940991095</b></p>
          </div>
        </div>
      </div>

    </section>

    <!-- DATA LAB SECTION -->
    <section id="datalab" class="page-section">

      <div class="section">
        <h2>BI Dashboard Gallery</h2>
        <p style="font-size:13px;color:var(--text-soft);margin-bottom:10px;">
          Replace the <code>src</code> URLs with your real Power BI and Tableau embed links.
        </p>
        <div class="grid-2">
          <div class="panel">
            <div class="panel-header">Power BI Dashboard</div>
            <iframe
              src="https://app.powerbi.com/view?r=YOUR_POWERBI_EMBED_ID"
              style="width:100%;height:260px;border-radius:8px;border:none;background:var(--bg-soft);"
              allowfullscreen></iframe>
          </div>
          <div class="panel">
            <div class="panel-header">Tableau Dashboard</div>
            <iframe
              src="https://public.tableau.com/views/YOUR_TABLEAU_VIZ?:embed=y&:showVizHome=no"
              style="width:100%;height:260px;border-radius:8px;border:none;background:var(--bg-soft);"
              allowfullscreen></iframe>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>SQL Playground (In-Browser)</h2>
        <p style="font-size:13px;color:var(--text-soft);margin-bottom:10px;">
          Run SQL queries on a demo sales table directly in the browser.
        </p>
        <div class="panel">
          <div class="label-small">Write SQL query</div>
          <textarea id="sqlInput">SELECT * FROM sales LIMIT 5;</textarea>
          <button class="btn btn-primary" onclick="runSQL()">Run Query</button>
          <div id="sqlResult" style="margin-top:10px;font-size:12px;"></div>
        </div>
      </div>

      <div class="section">
        <h2>CSV ‚Üí Quick Insights Lab</h2>
        <p style="font-size:13px;color:var(--text-soft);margin-bottom:10px;">
          Upload a CSV file to preview data and auto-generate a simple chart from the first numeric column.
        </p>
        <div class="panel">
          <input type="file" id="csvFile" accept=".csv" />
          <div id="csvPreview" style="margin-top:10px;font-size:12px;"></div>
          <div style="height:260px;margin-top:10px;">
            <canvas id="csvChart"></canvas>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Project Gallery</h2>
        <div class="projects-grid">
          <div class="project-card">
            <img src="Thumbnail/sales_thumb.png" alt="Sales Dashboard">
            <h3>Sales Performance Dashboard</h3>
            <p>Power BI report analyzing revenue, product mix, region performance and trends.</p>
            <span class="tag-pill">Power BI</span>
            <span class="tag-pill">SQL</span>
          </div>
          <div class="project-card">
            <img src="Thumbnail/churn_thumb.png" alt="Churn Analysis">
            <h3>Customer Churn Analysis</h3>
            <p>Python ML pipeline to identify high-risk customers and explain key drivers.</p>
            <span class="tag-pill">Python</span>
            <span class="tag-pill">ML</span>
          </div>
          <div class="project-card">
            <img src="Thumbnail/hr_thumb.png" alt="HR Analytics">
            <h3>HR Analytics Dashboard</h3>
            <p>Tableau visuals for headcount, attrition, performance, and diversity metrics.</p>
            <span class="tag-pill">Tableau</span>
            <span class="tag-pill">HR Analytics</span>
          </div>
        </div>
      </div>

    </section>

    <!-- RESUME GENERATOR SECTION -->
    <section id="resume" class="page-section">

      <div class="section">
        <h2>AI Resume Generator (JD ‚Üí Resume)</h2>
        <p style="font-size:13px;color:var(--text-soft);margin-bottom:10px;">
          Paste a Job Description and generate an ATS-optimized resume using your Google Apps Script or Vercel backend.
        </p>

        <div class="panel">
          <div class="label-small">Company Name</div>
          <input id="rgCompany" type="text" placeholder="Example: Amazon, TCS, Accenture">

          <div class="label-small" style="margin-top:6px;">Job Title</div>
          <input id="rgJobTitle" type="text" placeholder="Example: Data Analyst, Data Scientist">

          <div class="label-small" style="margin-top:6px;">Job Description</div>
          <textarea id="rgJD" placeholder="Paste the full JD here..."></textarea>

          <div id="rgKeywords" style="display:none;margin-top:6px;font-size:12px;color:var(--text-soft);background:var(--bg-soft);padding:6px;border-radius:6px;"></div>

          <button class="btn btn-primary" style="margin-top:8px;" onclick="generateResume()">Generate Resume (PDF + DOCX)</button>

          <div id="rgLoader" style="display:none;margin-top:12px;font-size:13px;color:var(--text-soft);">
            Generating resume, please wait...
          </div>

          <div id="rgResult" style="display:none;margin-top:12px;font-size:13px;">
            <b>Resume Generated:</b>
            <div id="rgLinks" style="margin-top:6px;"></div>
          </div>
        </div>
      </div>

    </section>

    <!-- AI ASSISTANT SECTION -->
    <section id="assistant" class="page-section">

      <div class="section">
        <h2>AI Portfolio Assistant</h2>
        <p style="font-size:13px;color:var(--text-soft);margin-bottom:10px;">
          Ask about my projects, dashboards, resume fit for a JD, or my skills.  
          This uses your Vercel backend at <code>/api/chat</code> (replace the URL in the script).
        </p>

        <div class="panel">
          <div class="chat-box" id="assistantChatBox">
            <div class="chat-msg chat-bot">
              <span>
                Hi! I‚Äôm your AI assistant for Deepanraj‚Äôs portfolio.  
                Ask about Sales Dashboard, Churn Analysis, HR Analytics, skills, or paste a JD to see how he fits.
              </span>
            </div>
          </div>

          <div style="display:flex;gap:8px;margin-top:8px;">
            <input type="text" id="assistantInput" placeholder="Ask about a project, skill, or paste JD..."
              style="flex:1;padding:8px;border-radius:8px;border:1px solid var(--border);background:var(--bg-card);color:var(--text);font-size:13px;">
            <button class="btn btn-primary" onclick="sendAssistantMessage()">Send</button>
          </div>
        </div>
      </div>

    </section>

    <!-- CONTACT SECTION (shortcut) -->
    <section id="contact" class="page-section">
      <!-- Reuse contact section from home -->
      <div class="section">
        <h2>CONTACT</h2>
        <p style="margin-bottom:10px;color:var(--text-soft);">
          If you‚Äôd like to discuss a role, project, or collaboration, use the form below or contact me directly.
        </p>

        <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:20px;flex-wrap:wrap;">
          <form class="contact-form" action="https://formspree.io/f/mnnqanpn" method="POST">
            <input type="text" name="name" placeholder="Name *" required>
            <input type="email" name="email" placeholder="Email *" required>
            <textarea name="message" placeholder="Message *" required></textarea>
            <button type="submit" class="btn btn-primary" style="width:100%;">Send Message</button>
          </form>

          <div class="contact-info">
            <p>üìß <b>deepanraj.a@outlook.com</b></p>
            <p>üìß <b>info@deepanraj.work.gd</b></p>
            <p>üì± <b>8940991095</b></p>
          </div>
        </div>
      </div>
    </section>

  </main>
</div>

<!-- FLOATING CHAT BUTTON / WINDOW -->
<div id="chatBtn">ü§ñ</div>
<div id="chatWindow">
  <!-- Reuse assistant UI via iframe is possible, but here we keep it simple and say "Use AI Assistant tab" -->
  <div style="padding:10px;font-size:13px;color:var(--text-soft);">
    <b>Tip:</b> Open the <b>AI Assistant</b> tab in the sidebar for full-screen chat.
  </div>
</div>

<!-- External libs for Data Lab -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>

<script>
// Loader
window.addEventListener("load", function(){
  setTimeout(()=>{ document.getElementById("loaderOverlay").style.display="none"; }, 800);
});

// Dark mode
document.getElementById("darkToggle").onclick = ()=>{
  document.body.classList.toggle("dark-mode");
};

// Navigation between sections
const navButtons = document.querySelectorAll(".nav-btn");
const sections = document.querySelectorAll(".page-section");

navButtons.forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const target = btn.getAttribute("data-section");
    navButtons.forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    sections.forEach(sec=>{
      sec.id === target ? sec.classList.add("active") : sec.classList.remove("active");
    });
    if(target === "contact"){
      // scroll inside contact section if needed
    }
    window.scrollTo({top:0,behavior:"smooth"});
  });
});

function scrollToContact(){
  // Switch to home or contact inside home
  navButtons.forEach(b=>{
    if(b.getAttribute("data-section")==="home") b.classList.add("active");
    else b.classList.remove("active");
  });
  sections.forEach(sec=>{
    sec.id === "home" ? sec.classList.add("active") : sec.classList.remove("active");
  });
  setTimeout(()=>{
    const c = document.getElementById("contact-section");
    if(c) c.scrollIntoView({behavior:"smooth"});
  },200);
}

// Gallery zoom: any img click
document.querySelectorAll("img").forEach(img=>{
  img.style.cursor="zoom-in";
  img.addEventListener("click", ()=>{
    const modal = document.getElementById("galleryModal");
    const gimg = document.getElementById("galleryImage");
    gimg.src = img.src;
    modal.style.display="flex";
  });
});

// Chat floating window
const chatBtn = document.getElementById("chatBtn");
const chatWindow = document.getElementById("chatWindow");
chatBtn.onclick = ()=>{
  chatWindow.style.display = (chatWindow.style.display === "flex" ? "none" : "flex");
};

// SQL.JS - demo DB
let SQLDB = null;
initSqlJs({ locateFile:file=>`https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/${file}` })
  .then(SQL =>{
    SQLDB = new SQL.Database();
    SQLDB.run(`
      CREATE TABLE sales(region TEXT, product TEXT, revenue INT);
      INSERT INTO sales VALUES ('North','Product A',12000);
      INSERT INTO sales VALUES ('South','Product B',8000);
      INSERT INTO sales VALUES ('West','Product C',15000);
      INSERT INTO sales VALUES ('East','Product A',9000);
    `);
  });

function runSQL(){
  const out = document.getElementById("sqlResult");
  out.innerHTML = "";
  if(!SQLDB){ out.textContent = "Database not ready yet."; return; }

  const query = document.getElementById("sqlInput").value;
  try{
    const res = SQLDB.exec(query);
    if(res.length === 0){
      out.textContent = "Query executed successfully (no rows returned).";
      return;
    }
    const table = document.createElement("table");
    const header = document.createElement("tr");
    res[0].columns.forEach(col=>{
      const th = document.createElement("th");
      th.textContent = col;
      header.appendChild(th);
    });
    table.appendChild(header);
    res[0].values.forEach(row=>{
      const tr = document.createElement("tr");
      row.forEach(val=>{
        const td = document.createElement("td");
        td.textContent = val;
        tr.appendChild(td);
      });
      table.appendChild(tr);
    });
    out.appendChild(table);
  }catch(e){
    out.textContent = "Error: " + e.message;
  }
}

// CSV ‚Üí Chart
let csvChart = null;
document.getElementById("csvFile").addEventListener("change", function(){
  const file = this.files[0];
  if(!file) return;

  Papa.parse(file,{
    header:true,
    dynamicTyping:true,
    complete:function(result){
      const rows = result.data.filter(r=>Object.keys(r).length>0);
      if(rows.length === 0) return;
      const preview = document.getElementById("csvPreview");

      let html = "<b>Preview (first 5 rows):</b><br><table><tr>";
      const cols = Object.keys(rows[0]);
      cols.forEach(c=> html += `<th>${c}</th>`);
      html += "</tr>";
      rows.slice(0,5).forEach(r=>{
        html += "<tr>";
        cols.forEach(c=> html += `<td>${r[c]}</td>`);
        html += "</tr>";
      });
      html += "</table>";
      preview.innerHTML = html;

      const labels = rows.map(r=> r[cols[0]]);
      let numCol = null;
      for(let i=1;i<cols.length;i++){
        if(typeof rows[0][cols[i]] === "number"){
          numCol = cols[i];break;
        }
      }
      if(!numCol){ return; }
      const data = rows.map(r=> r[numCol]);

      const ctx = document.getElementById("csvChart").getContext("2d");
      if(csvChart) csvChart.destroy();
      csvChart = new Chart(ctx, {
        type:"bar",
        data:{
          labels:labels,
          datasets:[{
            label:numCol,
            data:data,
            backgroundColor:"rgba(37,99,235,0.6)"
          }]
        },
        options:{
          responsive:true,
          plugins:{legend:{labels:{color: getComputedStyle(document.body).getPropertyValue('--text')}}},
          scales:{
            x:{ticks:{color:getComputedStyle(document.body).getPropertyValue('--text-soft')}},
            y:{ticks:{color:getComputedStyle(document.body).getPropertyValue('--text-soft')}}
          }
        }
      });
    }
  });
});

// Resume Generator JD keyword detection + API call
document.getElementById("rgJD").addEventListener("input", ()=>{
  const jd = document.getElementById("rgJD").value;
  const box = document.getElementById("rgKeywords");
  if(jd.trim().length < 30){
    box.style.display = "none";
    return;
  }
  const keys = ["SQL","Python","Power BI","Tableau","Excel","Machine Learning","ML","Pandas","NumPy","Scikit-Learn","Dashboard","ETL"];
  const found = keys.filter(k=> jd.toLowerCase().includes(k.toLowerCase()));
  if(found.length){
    box.style.display="block";
    box.innerHTML = "<b>Keywords detected:</b> " + found.join(", ");
  }else{
    box.style.display="none";
  }
});

function detectRole(jd){
  jd = jd.toLowerCase();
  if(jd.includes("power bi")) return "Power BI Developer";
  if(jd.includes("tableau")) return "Tableau Developer";
  if(jd.includes("machine learning") || jd.includes("ml") || jd.includes("ai")) return "Data Scientist";
  if(jd.includes("business analyst")) return "Business Analyst";
  return "Data Analyst";
}

async function generateResume(){
  const company = document.getElementById("rgCompany").value.trim();
  const job = document.getElementById("rgJobTitle").value.trim();
  const jd = document.getElementById("rgJD").value.trim();
  const loader = document.getElementById("rgLoader");
  const result = document.getElementById("rgResult");
  const links = document.getElementById("rgLinks");

  if(!company || !job || !jd){
    alert("Please fill Company, Job Title, and JD.");
    return;
  }
  loader.style.display="block";
  result.style.display="none";
  links.innerHTML="";

  const detectedRole = detectRole(jd);

  try{
    const res = await fetch("https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec",{
      method:"POST",
      body:JSON.stringify({
        companyName:company,
        jobTitle:job,
        jobDescription:jd,
        detectedRole:detectedRole,
        output:"pdf-docx"
      })
    });
    const data = await res.json();
    loader.style.display="none";

    if(data.status === "success"){
      result.style.display="block";
      let html="";
      if(data.pdf) html += `<a href="${data.pdf}" target="_blank">Download PDF</a><br>`;
      if(data.docx) html += `<a href="${data.docx}" target="_blank">Download DOCX</a>`;
      links.innerHTML = html || "No download links returned from backend.";
    }else{
      alert("Error generating resume: " + data.message);
    }
  }catch(e){
    loader.style.display="none";
    alert("Error calling backend. Please check your Apps Script URL.");
  }
}

// AI Assistant using Vercel backend
async function sendAssistantMessage(){
  const input = document.getElementById("assistantInput");
  const box = document.getElementById("assistantChatBox");
  const msg = input.value.trim();
  if(!msg) return;

  const me = document.createElement("div");
  me.className="chat-msg chat-me";
  me.innerHTML = `<span>${msg}</span>`;
  box.appendChild(me);
  box.scrollTop = box.scrollHeight;
  input.value="";

  try{
    const res = await fetch("https://YOUR-VERCEL-APP.vercel.app/api/chat",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({message:msg})
    });
    const data = await res.json();
    const bot = document.createElement("div");
    bot.className="chat-msg chat-bot";
    bot.innerHTML = `<span>${data.reply || "No reply from AI."}</span>`;
    box.appendChild(bot);
    box.scrollTop = box.scrollHeight;
  }catch(e){
    const err = document.createElement("div");
    err.className="chat-msg chat-bot";
    err.innerHTML = `<span>There was a problem connecting to the AI server.</span>`;
    box.appendChild(err);
    box.scrollTop = box.scrollHeight;
  }
}
</script>

</body>
</html>

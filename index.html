<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>AI Resume Generator - Deepanraj A</title>

<style>
/* === SAME CSS FROM YOUR INDEX.HTML (FULL THEME) === */
/* ------------------------------------------------------ */
/* GLOBAL */
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth;}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  background:#f5f5f5;
  color:#333;
  line-height:1.6;
}
.container{max-width:1200px;margin:0 auto;padding:0 20px}

/* HERO */
.hero{
  background:linear-gradient(135deg,#ffffff 0%,#f9f9f9 100%);
  padding:60px 20px 40px;
  text-align:center;
  border-bottom:1px solid #e0e0e0;
  box-shadow:0 2px 8px rgba(0,0,0,.05);
}
.profile-wrapper{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:40px;
  max-width:900px;
  margin:0 auto 30px;
}
.profile-photo{width:200px;height:200px;flex-shrink:0}
.profile-photo img{
  width:100%;height:100%;
  border-radius:50%;
  border:5px solid #2563eb;
  object-fit:cover;
}
.profile-info{text-align:left;flex:1}
.profile-info h1{font-size:48px;font-weight:700;margin-bottom:10px;color:#1f2937;}
.typing{
  font-size:18px;font-weight:600;color:#2563eb;
  min-height:30px;margin-bottom:15px;border-right:2px solid #2563eb;
  padding-right:5px;white-space:nowrap;
}
.profile-subtitle{
  display:flex;gap:15px;margin-bottom:10px;
  color:#666;font-size:15px;flex-wrap:wrap;
}
.profile-social{display:flex;gap:15px;margin:10px 0 18px;}
.social-icon{
  width:40px;height:40px;border-radius:50%;background:#e5e7eb;
  display:flex;align-items:center;justify-content:center;
  text-decoration:none;color:#2563eb;font-size:20px;transition:.3s;
}
.social-icon:hover{background:#2563eb;color:#fff;transform:translateY(-2px)}

/* Buttons */
.btn-contact, .btn-secondary{
  display:inline-block;padding:12px 32px;border-radius:30px;
  text-decoration:none;font-weight:600;cursor:pointer;border:none;
  font-size:15px;transition:.3s;
}
.btn-contact{background:#2563eb;color:#fff;}
.btn-contact:hover{
  background:#1d4ed8;transform:translateY(-2px);
  box-shadow:0 5px 15px rgba(37,99,235,.3);
}
.btn-secondary{
  background:#fff;color:#2563eb;border:1px solid #2563eb;
}
.btn-secondary:hover{
  background:#2563eb;color:#fff;
  transform:translateY(-2px);
  box-shadow:0 4px 12px rgba(37,99,235,.25);
}

/* Nav Tabs */
.nav-tabs{
  display:flex;gap:40px;border-bottom:2px solid #e5e7eb;
  padding:0 20px;margin-top:20px;overflow-x:auto;
}
.nav-tabs a{
  color:#999;text-decoration:none;padding:15px 0;
  border-bottom:3px solid transparent;transition:.3s;
  font-weight:500;white-space:nowrap;
}
.nav-tabs a:hover, .nav-tabs a.active{
  color:#2563eb;border-bottom-color:#2563eb;
}

/* Resume Generator Page Header */
.section-header{
  padding:40px 20px;
  background:#fff;
  margin:25px auto;
  max-width:900px;
  text-align:center;
  border-radius:10px;
  border:1px solid #e5e7eb;
  box-shadow:0 3px 10px rgba(0,0,0,.06);
}
.section-header h2{
  font-size:32px;color:#1f2937;margin-bottom:12px;font-weight:700;
}
.section-header p{
  color:#4b5563;font-size:16px;line-height:1.7;
}
</style>
</head>

<body>

<!-- HERO SECTION (Same as Index.html) -->
<div class="hero">
  <div class="container">

    <div class="profile-wrapper">
      <div class="profile-photo">
        <img src="images/Photo.jpeg" alt="Deepanraj A">
      </div>

      <div class="profile-info">
        <h1>DEEPANRAJ A</h1>

        <div class="typing" id="typing-hero"></div>
        <script>
        const heroLines=[
          "AI-Powered Resume Generator",
          "Create ATS-Optimized Resumes Instantly",
          "Powered by ChatGPT + Automation",
          "Smart Resume Engine for Any JD"
        ];
        let hi=0,hc=0,hd=false;
        function typeHero(){
          const el=document.getElementById("typing-hero");
          if(!el) return;
          const text=heroLines[hi];
          if(!hd){
            el.textContent=text.substring(0,hc++);
            if(hc>text.length+3) hd=true;
          }else{
            el.textContent=text.substring(0,hc--);
            if(hc<0){hd=false;hi=(hi+1)%heroLines.length;}
          }
          setTimeout(typeHero,hd?60:100);
        }
        typeHero();
        </script>

        <div class="profile-subtitle">
          <span>üìä DATA ANALYST</span>
          <span>üìç KARUR</span>
          <span>ü§ñ AI RESUME AUTOMATION</span>
        </div>

        <div class="profile-social">
          <a onclick="alert('LinkedIn profile coming soon!')" class="social-icon">in</a>
          <a onclick="alert('GitHub profile coming soon!')" class="social-icon">‚öô</a>
        </div>
      </div>
    </div>

    <!-- NAVBAR WITH NEW TAB -->
    <div class="nav-tabs">
      <a href="index.html">SUMMARY</a>
      <a href="index.html#overview">OVERVIEW</a>
      <a href="index.html#projects">PROJECTS</a>
      <a href="index.html#experience">EXPERIENCE</a>
      <a href="index.html#education">EDUCATION</a>
      <a href="index.html#certifications">CERTIFICATIONS</a>
      <a href="index.html#skills">SKILLS</a>
      <a href="index.html#contact">CONTACT</a>

      <!-- NEW TAB FOR THIS PAGE -->
      <a href="resume-generator.html" class="active">RESUME GENERATOR</a>
    </div>

  </div>
</div>

<!-- PAGE HEADER -->
<div class="section-header">
  <h2>AI Resume Generator</h2>
  <p>
    Paste any Job Description (JD), enter company name and job title, and instantly generate
    a personalized ATS-ready resume in both PDF and DOCX formats.
  </p>
</div>

<!-- PART 1 ENDS HERE -->
<!-- WAIT FOR PART 2 (MAIN UI + PREVIEW + FORM) -->
<!-- ============================= -->
<!-- PREMIUM JD RESUME GENERATOR UI -->
<!-- ============================= -->

<style>
/* GLASS CARD */
.glass-card{
  background:rgba(255,255,255,0.65);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  border-radius:16px;
  padding:30px;
  max-width:900px;
  margin:20px auto 50px;
  border:1px solid rgba(255,255,255,0.45);
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  animation:fadeInUp .7s ease;
}
@keyframes fadeInUp{
  from{opacity:0;transform:translateY(20px);}
  to{opacity:1;transform:translateY(0);}
}

/* LABELS + INPUTS */
.input-group{
  margin-bottom:20px;
}
.input-group label{
  font-weight:600;color:#1f2937;font-size:14px;margin-bottom:6px;display:block;
}
.input-group input, .input-group textarea{
  width:100%;padding:12px 14px;border-radius:8px;
  border:1px solid #d1d5db;font-size:15px;
  transition:.25s ease;border-left:4px solid #2563eb;
}
.input-group textarea{min-height:160px;resize:vertical;}
.input-group input:focus, .input-group textarea:focus{
  outline:none;border-color:#2563eb;box-shadow:0 0 0 2px rgba(37,99,235,0.2);
}

/* KEYWORD HIGHLIGHTER */
.keyword-box{
  background:#eef2ff;border-left:4px solid #2563eb;
  padding:14px;border-radius:10px;margin-top:12px;
  font-size:14px;color:#1e3a8a;display:none;
}

/* GENERATE BUTTON */
#generateBtn{
  margin-top:18px;
  width:100%;
  background:#2563eb;color:#fff;
  padding:15px;border:none;font-size:18px;
  border-radius:12px;font-weight:700;
  cursor:pointer;transition:.3s;
}
#generateBtn:hover{
  transform:translateY(-2px);
  background:#1d4ed8;
  box-shadow:0 6px 18px rgba(37,99,235,0.4);
}

/* LOADING ANIMATION */
.loader{
  margin:25px auto;
  border:6px solid #f3f3f3;
  border-top:6px solid #2563eb;
  border-radius:50%;
  width:45px;height:45px;
  animation:spin 1s linear infinite;
  display:none;
}
@keyframes spin{
  0%{transform:rotate(0deg);}
  100%{transform:rotate(360deg);}
}

/* RESULT PANEL */
.result-card{
  background:#ffffff;
  padding:25px;border-radius:14px;
  max-width:900px;margin:40px auto;
  box-shadow:0 6px 20px rgba(0,0,0,0.08);
  display:none;
}
.result-card h3{font-size:22px;margin-bottom:15px;color:#1f2937;}
.result-links a{
  display:block;
  margin-bottom:10px;
  padding:12px;
  background:#2563eb;color:white;
  text-align:center;
  border-radius:10px;
  font-weight:600;
  text-decoration:none;
}
.result-links a:hover{
  background:#1d4ed8;
}

/* CONFETTI CANVAS */
#confettiCanvas{
  position:fixed;top:0;left:0;width:100%;height:100%;
  pointer-events:none;display:none;
  z-index:9999;
}
</style>

<canvas id="confettiCanvas"></canvas>

<!-- MAIN GLASS CARD -->
<div class="glass-card">

  <h2 style="color:#1f2937;text-align:center;margin-bottom:20px;">
    Paste Job Description to Generate Your Resume
  </h2>

  <!-- COMPANY NAME -->
  <div class="input-group">
    <label>Company Name</label>
    <input id="companyName" type="text" placeholder="Example: Amazon, TCS, Accenture">
  </div>

  <!-- JOB TITLE -->
  <div class="input-group">
    <label>Job Title</label>
    <input id="jobTitle" type="text" placeholder="Example: Data Analyst, Data Scientist">
  </div>

  <!-- JOB DESCRIPTION -->
  <div class="input-group">
    <label>Paste Job Description (JD)</label>
    <textarea id="jdInput" placeholder="Paste the full job description here..."></textarea>
  </div>

  <!-- KEYWORD DISPLAY -->
  <div id="keywordBox" class="keyword-box"></div>

  <!-- GENERATE BUTTON -->
  <button id="generateBtn">Generate Resume (PDF + DOCX)</button>

  <!-- LOADING SPINNER -->
  <div id="loader" class="loader"></div>

</div>

<!-- RESULT AREA -->
<div id="resultCard" class="result-card">
  <h3>Resume Generated Successfully üéâ</h3>
  <p>Your resume has been uploaded to your GitHub <b>/resume</b> folder.</p>

  <div class="result-links" id="downloadLinks"></div>
</div>

<!-- PART 2 ENDS HERE -->
<!-- WAIT FOR PART 3 (ALL JAVASCRIPT + CONFETTI ENGINE) -->
<!-- =========================== -->
<!--     JAVASCRIPT ENGINE       -->
<!-- =========================== -->

<script>
// =================================================
// 1) JD KEYWORD EXTRACTOR
// =================================================
document.getElementById("jdInput").addEventListener("input", () => {
    const jd = document.getElementById("jdInput").value;

    if (jd.trim().length < 20) {
        document.getElementById("keywordBox").style.display = "none";
        return;
    }

    let keywords = [];
    const keywordList = [
        "SQL","Python","Power BI","Tableau","Excel","Machine Learning","ML","Deep Learning",
        "Dashboards","ETL","Pandas","NumPy","Matplotlib","Data Cleaning","Business Intelligence"
    ];

    keywordList.forEach(k => {
        if (jd.toLowerCase().includes(k.toLowerCase())) keywords.push(k);
    });

    if (keywords.length === 0) {
        document.getElementById("keywordBox").style.display = "none";
    } else {
        document.getElementById("keywordBox").style.display = "block";
        document.getElementById("keywordBox").innerHTML =
            "<b>Keywords detected:</b> " + keywords.join(", ");
    }
});


// =================================================
// 2) ROLE DETECTING ENGINE (DA, DS, BI, TABLEAU)
// =================================================
function detectRole(jd) {
    jd = jd.toLowerCase();

    if (jd.includes("power bi")) return "Power BI Developer";
    if (jd.includes("tableau")) return "Tableau Developer";
    if (jd.includes("machine learning") || jd.includes("ml") || jd.includes("ai")) return "Data Scientist";
    if (jd.includes("business analyst")) return "Business Analyst";

    return "Data Analyst";
}


// =================================================
// 3) API REQUEST TO GOOGLE APPS SCRIPT BACKEND
// =================================================
document.getElementById("generateBtn").addEventListener("click", async () => {

    const company = document.getElementById("companyName").value.trim();
    const job = document.getElementById("jobTitle").value.trim();
    const jd = document.getElementById("jdInput").value.trim();

    if (!company || !job || !jd) {
        alert("Please fill Company Name, Job Title, and JD.");
        return;
    }

    // Show loader
    document.getElementById("loader").style.display = "block";
    document.getElementById("generateBtn").disabled = true;

    const detectedRole = detectRole(jd);

    try {
        const response = await fetch(
            "https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec",   // <-- Replace in Part 2
            {
                method: "POST",
                body: JSON.stringify({
                    companyName: company,
                    jobTitle: job,
                    jobDescription: jd,
                    detectedRole: detectedRole,
                    output: "pdf-docx"
                })
            }
        );

        const result = await response.json();

        // Hide loader
        document.getElementById("loader").style.display = "none";
        document.getElementById("generateBtn").disabled = false;

        if (result.status === "success") {

            // Populate download links
            let linksHTML = "";
            if (result.pdf) {
                linksHTML += `<a href="${result.pdf}" target="_blank">Download PDF</a>`;
            }
            if (result.docx) {
                linksHTML += `<a href="${result.docx}" target="_blank">Download DOCX</a>`;
            }

            document.getElementById("downloadLinks").innerHTML = linksHTML;
            document.getElementById("resultCard").style.display = "block";

            startConfetti();

        } else {
            alert("Error generating resume: " + result.message);
        }

    } catch (err) {
        console.error(err);
        alert("Something went wrong. Check your backend API URL.");
        document.getElementById("loader").style.display = "none";
        document.getElementById("generateBtn").disabled = false;
    }
});


// =================================================
// 4) CONFETTI ENGINE
// =================================================
const canvas = document.getElementById("confettiCanvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.onresize = resizeCanvas;

let confetti = [];
function startConfetti() {
    canvas.style.display = "block";

    confetti = [];
    for (let i = 0; i < 200; i++) {
        confetti.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height - canvas.height,
            r: Math.random() * 6 + 2,
            d: Math.random() * 1 + 1,
            color: `hsl(${Math.random() * 360}, 80%, 60%)`
        });
    }

    animateConfetti();

    // stop after 5s
    setTimeout(() => {
        canvas.style.display = "none";
    }, 5000);
}

function animateConfetti() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    confetti.forEach(c => {
        c.y += c.d;
        if (c.y > canvas.height) c.y = -10;

        ctx.beginPath();
        ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
        ctx.fillStyle = c.color;
        ctx.fill();
    });

    requestAnimationFrame(animateConfetti);
}
</script>


</body>
</html>
